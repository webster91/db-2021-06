# Домашнее задание №10

Типы данных в MySQL

## Цель:

* Вдумчиво подбираем нужные типы данных
* Определяемся с типом ID
* Изучаем тип JSON

1) проанализировать типы данных в своем проекте, изменить при необходимости. В README указать что на что поменялось и
   почему.
2) добавить тип JSON в структуру. Проанализировать какие данные могли бы там хранится. привести примеры SQL для
   добавления записей и выборки.

### Проанализировать типы данных в своем проекте, изменить при необходимости. В README указать что на что поменялось и почему

Были изменены тип ид с serial на int/bigInt в зависимости от типа таблицы:

Ключом является Int:

- BuildType
- City
- Role
- Gender
- TicketStatus
- TicketType
- MeterType

Ключом является BigInt:

- Build
- User
- Address
- Claim
- Meter
- MeterValue
- Receipt

### Добавить тип JSON в структуру. Проанализировать какие данные могли бы там хранится. Привести примеры SQL для добавления записей и выборки.

- Была добавлена новая таблица MeterValue в которую были вынесены показания счётчиков в типе json т.е. предполагается,
  что показания будут передаваться по системе АСКУЭ через REST запросы.

Данные значения таблицы MeterValue поле value. В json'е передаются дата и значение счётчика

````
{
    "value": 10215.50,
    "date": 25.09.2021
}
````

- примеры SQL для добавления записей и выборки

Добавление

````
INSERT INTO MeterValue
VALUES (default, 1111111,
        '{
          "value": 101323.12,
          "data": "25.09.2021"
        }');
````

Выборка

````
SELECT value ->> '$.value' AS 'meter values'
FROM MeterValue
WHERE meterId = 1111111;
````

